import{F as Ie,a as ve,b as Se,o as Ee,p as we}from"./chunk-BCQFEIKQ.js";import{a as Ce}from"./chunk-QZX4LCUJ.js";import{c as Te,e as Pe}from"./chunk-D3BHFARY.js";import"./chunk-SUWUYGL4.js";import"./chunk-QUJFQN2Y.js";import"./chunk-AE4Q3JL3.js";import"./chunk-JPGHLKE3.js";import"./chunk-MYQ7YDYT.js";import"./chunk-BBHHHFLX.js";import"./chunk-MRNFGDTE.js";import"./chunk-NGOZEG4D.js";import"./chunk-6KTDM6DZ.js";import"./chunk-OHJQ2VB5.js";import{d as xe}from"./chunk-U3D4XQDN.js";import{$ as t,Ac as _e,Ca as j,Cc as A,Da as q,Ea as O,Fa as L,Ga as F,H as o,I as g,K as N,Na as Q,P as I,Pa as z,Ra as W,S as d,Sa as Y,Sb as D,Ta as G,Ub as re,Vb as ae,Wb as oe,Xb as se,Yb as le,_ as i,_b as me,aa as m,ac as V,cb as U,db as H,dc as ce,ea as B,ec as de,fa as c,ga as b,hb as J,ic as ue,ja as w,jc as pe,lb as h,lc as ge,ma as T,mb as K,na as P,nb as X,oa as k,qb as Z,qc as he,ra as e,rb as $,rc as fe,sa as R,sb as ee,ta as C,vb as te,w as x,x as v,xb as ie,yb as ne,yc as ye,zc as be}from"./chunk-ZVAAHSKL.js";import"./chunk-MMD5JVTL.js";import"./chunk-OHVKLA6E.js";import"./chunk-KYGTOQGS.js";import"./chunk-FYZEVWXC.js";import"./chunk-LBMIQEU6.js";import"./chunk-WI5MSH4N.js";import"./chunk-OJSZUQXG.js";import"./chunk-CKP3SGE2.js";import"./chunk-UAVTHAY7.js";import"./chunk-WII2C2IN.js";import"./chunk-2ZU5OH3Y.js";import"./chunk-TS4YYEKP.js";import"./chunk-LIVJLAZ7.js";import"./chunk-ZIZ6ADWA.js";import"./chunk-4U6PRYVA.js";import"./chunk-FXFZIWDD.js";import"./chunk-CSG5OQLY.js";import"./chunk-VMHM3MLJ.js";import"./chunk-3OUKC7F6.js";import"./chunk-C5RQ2IC2.js";import"./chunk-42C7ZIID.js";import{l as _}from"./chunk-NS5K5CJO.js";var ke=u=>({"no-shadow":u}),Re=()=>[0,1];function Oe(u,f){u&1&&(i(0,"ion-note",21),e(1," You must accept the Terms & Privacy to continue. "),t())}function De(u,f){if(u&1){let p=B();i(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),e(3,"Terms & Privacy"),t(),i(4,"ion-buttons",22)(5,"ion-button",23),c("click",function(){x(p);let r=b();return v(r.termsOpen=!1)}),e(6," Close "),t()()()(),i(7,"ion-content",24)(8,"ion-item",25)(9,"ion-label")(10,"strong"),e(11,"App:"),t(),e(12," E-Gov Document & ID Verification (AI OCR/QR)"),m(13,"br"),i(14,"strong"),e(15,"Policy Version:"),t(),e(16),m(17,"br"),i(18,"strong"),e(19,"Effective:"),t(),e(20),O(21,"date"),t()(),i(22,"ion-card",26)(23,"ion-card-header")(24,"ion-card-title"),e(25,"Summary"),t()(),i(26,"ion-card-content"),e(27," \u2022 We verify government documents/IDs (e.g., PSA Birth Cert, PhilSys ID, Voter ID/Cert) using on-device/secure server AI for OCR/QR."),m(28,"br"),e(29," \u2022 You remain responsible for providing accurate/authorized documents."),m(30,"br"),e(31," \u2022 We do "),i(32,"em"),e(33,"not"),t(),e(34," claim affiliation with any government agency."),m(35,"br"),e(36," \u2022 Your data is handled under a privacy-by-design approach and PH Data Privacy Act (RA 10173) principles. "),t()(),i(37,"div",27)(38,"a",23),c("click",function(){x(p);let r=b();return v(r.jump("#terms"))}),e(39,"Terms"),t(),e(40," \xB7 "),i(41,"a",23),c("click",function(){x(p);let r=b();return v(r.jump("#privacy"))}),e(42,"Privacy"),t(),e(43," \xB7 "),i(44,"a",23),c("click",function(){x(p);let r=b();return v(r.jump("#consent"))}),e(45,"Consent"),t()(),i(46,"h2",28),e(47,"Terms & Conditions"),t(),i(48,"ol")(49,"li")(50,"strong"),e(51,"Service Description."),t(),e(52," This app assists with "),i(53,"em"),e(54,"document authenticity checks"),t(),e(55," using AI-based OCR/QR extraction and automated rules. Results are indicative\u2014not a legal certification."),t(),i(56,"li")(57,"strong"),e(58,"Eligibility & Authorized Use."),t(),e(59," You must be the document owner or have lawful authority to submit. You will not upload forged, illegal, or unauthorized materials."),t(),i(60,"li")(61,"strong"),e(62,"No Government Affiliation."),t(),e(63," The app is independent and not affiliated with PSA, COMELEC, or any government agency."),t(),i(64,"li")(65,"strong"),e(66,"Accuracy & Limitations."),t(),e(67," AI/OCR/QR may be affected by image quality, glare, crops, or damaged IDs. Always verify critical results with official sources."),t(),i(68,"li")(69,"strong"),e(70,"Acceptable Use."),t(),e(71," No reverse engineering, automated scraping, security probing, or misuse (e.g., identity fraud, harassment)."),t(),i(72,"li")(73,"strong"),e(74,"Availability."),t(),e(75," We may update, limit, or discontinue features without notice to improve security and reliability."),t(),i(76,"li")(77,"strong"),e(78,"Disclaimers."),t(),e(79," The service is provided \u201Cas is\u201D and \u201Cas available.\u201D We disclaim warranties to the fullest extent permitted by law."),t(),i(80,"li")(81,"strong"),e(82,"Liability."),t(),e(83," To the extent allowed by law, we are not liable for indirect, incidental, consequential, or punitive damages."),t(),i(84,"li")(85,"strong"),e(86,"Changes."),t(),e(87," We may revise these Terms; material changes will carry a new version number. Continued use indicates acceptance."),t(),i(88,"li")(89,"strong"),e(90,"Contact."),t(),e(91," For concerns: "),i(92,"em"),e(93),t()()(),i(94,"h2",29),e(95,"Privacy Notice"),t(),i(96,"ol")(97,"li")(98,"strong"),e(99,"Data We Process."),t(),e(100," Account data (name, email, password hash), documents/IDs you upload, derived text (OCR), QR payloads, logs/telemetry (timestamps, device/app versions), and verification outcomes."),t(),i(101,"li")(102,"strong"),e(103,"Purpose."),t(),e(104," To perform document/ID verification, prevent fraud, maintain security, improve accuracy, and comply with legal obligations."),t(),i(105,"li")(106,"strong"),e(107,"Lawful Bases."),t(),e(108," Your consent for uploads and processing; legitimate interests in fraud prevention, security, and app improvement; compliance where required."),t(),i(109,"li")(110,"strong"),e(111,"Storage & Retention."),t(),e(112," Raw images are minimized/auto-deleted where possible; derived text and verification logs are retained only as needed for audit, dispute resolution, and security (define a period, e.g., 12\u201324 months)."),t(),i(113,"li")(114,"strong"),e(115,"Security."),t(),e(116," Encryption in transit, role-based access, least-privilege, and audit logging. Never share credentials. Report suspected incidents promptly."),t(),i(117,"li")(118,"strong"),e(119,"Sharing."),t(),e(120," We do not sell personal data. Limited processors (cloud, analytics, email, storage) operate under DPAs and security standards."),t(),i(121,"li")(122,"strong"),e(123,"International Transfers."),t(),e(124," If applicable, we use safeguards (e.g., SCCs) for cross-border processing."),t(),i(125,"li")(126,"strong"),e(127,"Your Rights (RA 10173)."),t(),e(128," Access, correction, deletion, withdrawal of consent, and complaint to the National Privacy Commission. Contact us to exercise rights."),t(),i(129,"li")(130,"strong"),e(131,"Children\u2019s Data."),t(),e(132," If minors\u2019 IDs are processed, you confirm lawful authority (parent/guardian/legally authorized representative)."),t(),i(133,"li")(134,"strong"),e(135,"Contact DPO."),t(),i(136,"em"),e(137),t()()(),i(138,"h2",30),e(139,"Consent"),t(),i(140,"p"),e(141),t(),i(142,"ion-footer",31)(143,"ion-button",32),c("click",function(){x(p);let r=b();return v(r.agreeFromModal())}),e(144," I Agree "),t(),i(145,"ion-button",33),c("click",function(){x(p);let r=b();return v(r.termsOpen=!1)}),e(146," Decline "),t()()()}if(u&2){let p=b();o(7),d("fullscreen",!0),o(9),C(" ",p.TERMS_VERSION,""),o(4),C(" ",F(21,6,p.TERMS_EFFECTIVE,"longDate")," "),o(73),R("your-email@example.com"),o(44),R("dpo@example.com"),o(4),C(" By tapping \u201CI Agree\u201D, you confirm you (a) have authority to submit the documents/IDs, (b) consent to OCR/QR extraction and automated checks, and (c) accept the Terms and this Privacy Notice (Policy Version: ",p.TERMS_VERSION,"). ")}}var Ze=(()=>{let f=class f{constructor(a,r,n,l,y,s,S,E){this.fb=a,this.authService=r,this.router=n,this.toastCtrl=l,this.loadingCtrl=y,this.platform=s,this.scrollService=S,this.statusBarService=E,this.showPassword=!1,this.termsOpen=!1,this.TERMS_VERSION="v2025-11-11",this.TERMS_EFFECTIVE=new Date("2025-11-11"),this.form=this.fb.group({name:["",[h.required,h.minLength(2),h.maxLength(50)]],email:["",[h.required,h.email]],password:[null,[h.required,h.minLength(6)]],acceptTerms:[!1,[h.requiredTrue]]}),this.backSub=this.platform.backButton.subscribeWithPriority(10,()=>_(this,null,function*(){var M;(M=this.registerSub)==null||M.unsubscribe(),this.router.navigateByUrl("/landing-page",{replaceUrl:!0})})),ve({eye:Ee,eyeOff:we,arrowBack:Se})}ngOnInit(){}ngAfterViewInit(){this.scrollService.register(this.content)}ngOnDestroy(){var a,r;(a=this.registerSub)==null||a.unsubscribe(),(r=this.backSub)==null||r.unsubscribe()}ionViewWillEnter(){this.initializeStatusBar()}ionViewWillLeave(){var a;this.statusBarService.modifyStatusBar(A.Dark),(a=this.backSub)==null||a.unsubscribe(),this.backSub=void 0}openTerms(a,r="terms"){a==null||a.preventDefault(),this.termsOpen=!0,setTimeout(()=>this.jump(`#${r}`),50)}jump(a){let r=document.querySelector(a);r==null||r.scrollIntoView({behavior:"smooth",block:"start"})}agreeFromModal(){return _(this,null,function*(){this.form.patchValue({acceptTerms:!0}),this.termsOpen=!1})}onSubmit(){return _(this,null,function*(){if(this.form.invalid){this.form.markAllAsTouched(),this.form.value.acceptTerms?this.showToast("Please fill in valid credentials."):this.showToast("Please accept the Terms & Privacy first.");return}let a=yield this.loadingCtrl.create({message:"Signing up...",spinner:"circles"});yield a.present();let{name:r,email:n,password:l}=this.form.value,y={accepted:!0,version:this.TERMS_VERSION,acceptedAt:new Date().toISOString()};this.registerSub=this.authService.register({name:r,email:n,password:l}).subscribe(s=>_(this,null,function*(){var S,E;yield a.dismiss(),s!=null&&s.success?this.router.navigate(["/otp"],{replaceUrl:!0,state:{name:r,email:n,password:l,type:"verify",backUrl:"register"}}):((E=(S=s==null?void 0:s.message)==null?void 0:S.toLowerCase)!=null&&E.call(S).includes("user already exists")&&this.form.controls.email.setErrors({userExists:!0}),this.showToast((s==null?void 0:s.message)||"Signup failed."))}),s=>_(this,null,function*(){yield a.dismiss(),this.showToast((s==null?void 0:s.message)||"Signup failed.")}))})}showToast(a){return _(this,null,function*(){yield(yield this.toastCtrl.create({message:a,duration:2200,position:"bottom"})).present()})}get name(){return this.form.get("name")}get email(){return this.form.get("email")}get password(){return this.form.get("password")}get acceptTerms(){return this.form.get("acceptTerms")}initializeStatusBar(){this.statusBarService.show(!0),this.statusBarService.modifyStatusBar(A.Light),this.statusBarService.overLay(!1)}};f.\u0275fac=function(r){return new(r||f)(g(te),g(xe),g(U),g(Pe),g(Te),g(ne),g(Ie),g(Ce))},f.\u0275cmp=N({type:f,selectors:[["app-register"]],viewQuery:function(r,n){if(r&1&&(T(V,7),T(D,5)),r&2){let l;P(l=k())&&(n.content=l.first),P(l=k())&&(n.modal=l.first)}},decls:37,vars:19,consts:[[3,"ngClass"],[1,"transparent-toolbar"],["slot","start"],["routerLink","/landing-page","fill","clear"],["slot","icon-only","name","arrow-back"],[1,"ion-padding","page",3,"fullscreen"],[1,"wrap"],[1,"card","no-shadow"],["src","assets/images/register.png","alt","",2,"width","100%","height","200px","object-fit","contain"],[3,"ngSubmit","formGroup"],["formControlName","name","label","Name","labelPlacement","stacked","fill","outline","inputmode","text","placeholder","Name","clearInput","true",1,"mb",3,"errorText"],["formControlName","email","label","Email","labelPlacement","stacked","fill","outline","inputmode","email","placeholder","you@example.com","clearInput","true",1,"mb",3,"errorText"],["formControlName","password","label","Password","placeholder","Enter your password","labelPlacement","stacked","fill","outline","autocomplete","off",1,"mb",3,"errorText","type"],["slot","end","fill","clear","size","small","type","button",3,"click"],[3,"name"],["aria-label","I agree to the Terms & Privacy","labelPlacement","end","formControlName","acceptTerms","justify","start",3,"checked"],[2,"white-space","pre-line"],["href","#",3,"click"],["color","danger",4,"ngIf"],["expand","block","type","submit","shape","round",1,"action",3,"disabled"],[3,"didDismiss","isOpen","initialBreakpoint","breakpoints"],["color","danger"],["slot","end"],[3,"click"],[1,"ion-padding","terms-content",3,"fullscreen"],["lines","none"],[1,"ion-margin-top"],[1,"links"],["id","terms"],["id","privacy"],["id","consent"],[1,"ion-no-border","ion-padding"],["expand","block",3,"click"],["expand","block","fill","clear",3,"click"]],template:function(r,n){r&1&&(i(0,"ion-header",0),O(1,"async"),i(2,"ion-toolbar",1)(3,"ion-buttons",2)(4,"ion-button",3),m(5,"ion-icon",4),t()(),i(6,"ion-title",2),e(7,"Register"),t()()(),i(8,"ion-content",5)(9,"div",6)(10,"ion-card",7)(11,"ion-card-header"),m(12,"img",8),t(),i(13,"ion-card-content")(14,"form",9),c("ngSubmit",function(){return n.onSubmit()}),m(15,"ion-input",10)(16,"br")(17,"ion-input",11)(18,"br"),i(19,"ion-input",12)(20,"ion-button",13),c("click",function(){return n.showPassword=!n.showPassword}),m(21,"ion-icon",14),t()(),m(22,"br"),i(23,"ion-checkbox",15)(24,"div",16),e(25," I agree to the "),i(26,"a",17),c("click",function(y){return y.stopPropagation(),n.openTerms(y)}),e(27,"Terms & Conditions"),t(),e(28," and "),i(29,"a",17),c("click",function(y){return y.stopPropagation(),n.openTerms(y,"privacy")}),e(30,"Privacy Notice"),t()()(),I(31,Oe,2,0,"ion-note",18),m(32,"br"),i(33,"ion-button",19),e(34," Register "),t()()()()(),i(35,"ion-modal",20),c("didDismiss",function(){return n.termsOpen=!1}),I(36,De,147,9,"ng-template"),t()()),r&2&&(d("ngClass",q(16,ke,L(1,14,n.scrollService.scrollTop$)===0)),o(8),d("fullscreen",!0),o(6),d("formGroup",n.form),o(),w("errorText",n.name!=null&&n.name.hasError("required")?"Name is required":n.name!=null&&n.name.hasError("minlength")?"Name must be at least 2 characters long":n.name!=null&&n.name.hasError("maxlength")?"Name cannot be more than 50 characters long":""),o(2),w("errorText",n.email!=null&&n.email.hasError("required")?"Email is required":n.email!=null&&n.email.hasError("email")?"Please enter a valid email address":n.email!=null&&n.email.hasError("userExists")?"An account with this email already exists":""),o(2),w("errorText",n.password!=null&&n.password.hasError("required")?"Password is required":n.password!=null&&n.password.hasError("minlength")?"Password must be at least 6 characters long":""),d("type",n.showPassword?"text":"password"),o(2),d("name",n.showPassword?"eye-off":"eye"),o(2),d("checked",n.form.value.acceptTerms),o(8),d("ngIf",(n.acceptTerms==null?null:n.acceptTerms.invalid)&&(n.acceptTerms==null?null:n.acceptTerms.touched)),o(2),d("disabled",n.form.invalid),o(2),d("isOpen",n.termsOpen)("initialBreakpoint",1)("breakpoints",j(18,Re)))},dependencies:[G,Q,z,W,Y,ie,Z,K,X,$,ee,J,H,V,de,he,fe,oe,le,me,se,ue,pe,_e,ge,re,ae,be,D,ce,ye],styles:[".page[_ngcontent-%COMP%]{--background: var(--ion-color-primary-contrast)}.wrap[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.card[_ngcontent-%COMP%]{width:100%;max-width:400px;margin:0!important}ion-card-subtitle[_ngcontent-%COMP%]{font-size:16px!important}ion-button.action[_ngcontent-%COMP%]{height:50px}.terms-row[_ngcontent-%COMP%]{--inner-padding-end: 0;align-items:center}.terms-row[_ngcontent-%COMP%]   .ml-2[_ngcontent-%COMP%]{margin-left:8px}.terms-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-top:18px;font-size:1.1rem}.links[_ngcontent-%COMP%]{margin:8px 0 16px}.links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:underline;margin-right:6px}"]});let u=f;return u})();export{Ze as RegisterPage};
