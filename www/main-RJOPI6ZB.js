import{f as K}from"./chunk-D3BHFARY.js";import"./chunk-SUWUYGL4.js";import"./chunk-QUJFQN2Y.js";import"./chunk-AE4Q3JL3.js";import"./chunk-JPGHLKE3.js";import"./chunk-MYQ7YDYT.js";import"./chunk-BBHHHFLX.js";import"./chunk-MRNFGDTE.js";import"./chunk-NGOZEG4D.js";import"./chunk-6KTDM6DZ.js";import"./chunk-OHJQ2VB5.js";import{b as J,c as h,d}from"./chunk-U3D4XQDN.js";import{$ as A,$a as R,Cc as N,Dc as q,Ec as m,I as r,K as b,Qb as k,Rb as G,Tb as T,Va as x,_ as P,_a as M,aa as I,ab as L,bb as V,cb as c,eb as j,fb as B,gb as O,sc as z,t as l,tc as D,u as S,uc as W,vc as F,wc as H,yb as U}from"./chunk-ZVAAHSKL.js";import"./chunk-MMD5JVTL.js";import{a as E,b as Y}from"./chunk-OHVKLA6E.js";import"./chunk-KYGTOQGS.js";import"./chunk-FYZEVWXC.js";import"./chunk-LBMIQEU6.js";import"./chunk-WI5MSH4N.js";import"./chunk-OJSZUQXG.js";import"./chunk-CKP3SGE2.js";import"./chunk-UAVTHAY7.js";import"./chunk-WII2C2IN.js";import"./chunk-2ZU5OH3Y.js";import"./chunk-TS4YYEKP.js";import"./chunk-LIVJLAZ7.js";import"./chunk-ZIZ6ADWA.js";import"./chunk-4U6PRYVA.js";import"./chunk-FXFZIWDD.js";import"./chunk-CSG5OQLY.js";import"./chunk-VMHM3MLJ.js";import"./chunk-3OUKC7F6.js";import"./chunk-C5RQ2IC2.js";import"./chunk-42C7ZIID.js";import{l as o}from"./chunk-NS5K5CJO.js";var g=Y("App",{web:()=>import("./chunk-KKPDSCUU.js").then(t=>new t.AppWeb)});var Q=(()=>{let i=class i{constructor(e,n,s,_,$,tt,et,ot){this.platform=e,this.router=n,this.activatedRoute=s,this.modalCtrl=_,this.loadingCtrl=$,this.actionSheetController=tt,this.alertController=et,this.authService=ot,this.backSub=this.platform.backButton.subscribeWithPriority(10,()=>o(this,null,function*(){let f=yield this.modalCtrl.getTop(),C=yield this.actionSheetController.getTop(),v=yield this.loadingCtrl.getTop();if(f){yield f.dismiss();return}if(C){yield C.dismiss();return}if(v){yield v.dismiss();return}console.log("Current route:",this.router.url);let u=this.router.url,w=[],y=[{text:"Minimize the app?",handler:()=>o(this,null,function*(){return g.minimizeApp()})},{text:"Close the app?",handler:()=>o(this,null,function*(){return g.exitApp()})},{text:"Back",cssClass:"close dismiss cancel",handler:()=>o(this,null,function*(){this.actionSheetController.dismiss()})}];if(u.includes("/profile")||u.includes("/verification-history")){this.router.navigateByUrl("/home");return}else u.includes("/home")?(w.push({text:"Logout",handler:()=>o(this,null,function*(){yield(yield this.alertController.create({header:"Are you sure you want to logout?",message:"You\u2019ll be signed out from your account and need to log in again to continue.",buttons:[{text:"CANCEL",role:"cancel",cssClass:"alert-button-cancel"},{text:"Yes, Logout",cssClass:"alert-button-danger",handler:()=>o(this,null,function*(){yield this.authService.logout(),yield this.router.navigateByUrl("/login",{replaceUrl:!0})})}]})).present()})}),yield(yield this.actionSheetController.create({buttons:[...w,...y]})).present()):u.includes("/landing-page")&&(yield(yield this.actionSheetController.create({buttons:y})).present())}))}ionViewWillEnter(){this.initializeStatusBar()}ionViewWillLeave(){var e;(e=this.backSub)==null||e.unsubscribe(),this.backSub=void 0}initializeStatusBar(){return o(this,null,function*(){E.getPlatform()!=="web"&&(yield m.show({animation:q.Fade}),yield m.setStyle({style:N.Light}),yield m.setOverlaysWebView({overlay:!1}))})}ngOnInit(){this.platform.ready().then(()=>o(this,null,function*(){this.initializeStatusBar()}))}ngOnDestroy(){var e;(e=this.backSub)==null||e.unsubscribe()}};i.\u0275fac=function(n){return new(n||i)(r(U),r(c),r(L),r(z),r(H),r(W),r(F),r(d))},i.\u0275cmp=b({type:i,selectors:[["app-root"]],decls:2,vars:0,template:function(n,s){n&1&&(P(0,"ion-app"),I(1,"ion-router-outlet"),A())},dependencies:[T,G],encapsulation:2});let t=i;return t})();function rt(){return o(this,null,function*(){let t=l(h),i=l(d),a=l(c),e=yield t.getSavedProfile();if(!!e&&typeof e.userId=="string"&&e.userId.trim().length>0)return i.setCurrentLogin(e),!0;let s=yield t.isOnboardingCompleted();return s!==!0&&s!=="true"&&s!==1?a.parseUrl("/landing-page"):(i.logout(),a.parseUrl("/login"))})}function at(){return o(this,null,function*(){let t=l(h),i=l(c),a=yield t.getSavedProfile();return!!a&&typeof a.userId=="string"&&a.userId.trim().length>0?i.parseUrl("/home"):!0})}var p=()=>rt(),X=()=>at();var Z=[{path:"",pathMatch:"full",redirectTo:"home"},{path:"home",canMatch:[p],loadComponent:()=>import("./chunk-IVYC4TQF.js").then(t=>t.HomePage)},{path:"profile",canMatch:[p],loadComponent:()=>import("./chunk-CGNPJUJC.js").then(t=>t.ProfilePage)},{path:"search",canMatch:[p],loadComponent:()=>import("./chunk-HC43AETC.js").then(t=>t.SearchPage)},{path:"verification-details",canMatch:[p],loadComponent:()=>import("./chunk-XWG6MFCG.js").then(t=>t.VerificationDetailsPage)},{path:"verification-history",canMatch:[p],loadComponent:()=>import("./chunk-TENO4VCE.js").then(t=>t.VerificationHistoryPage)},{path:"landing-page",loadComponent:()=>import("./chunk-EGDTWRTC.js").then(t=>t.LandingPagePage)},{path:"login",canMatch:[X],loadComponent:()=>import("./chunk-GDLMLADG.js").then(t=>t.LoginPage)},{path:"register",loadComponent:()=>import("./chunk-JF62B6JL.js").then(t=>t.RegisterPage)},{path:"otp",loadComponent:()=>import("./chunk-CDT2CXXF.js").then(t=>t.OtpPage)},{path:"send-verification",loadComponent:()=>import("./chunk-7FQES6ZU.js").then(t=>t.SendVerificationPage)},{path:"reset-password",loadComponent:()=>import("./chunk-LCCMP45X.js").then(t=>t.ResetPasswordPage)},{path:"help-support",loadComponent:()=>import("./chunk-HQOVZLLO.js").then(t=>t.HelpSupportPage)},{path:"**",redirectTo:""}];x(Q,{providers:[{provide:V,useClass:k},S(K.forRoot(),J.forRoot({name:"__myappdb"})),D(),B(Z,O(j)),M(R())]});
